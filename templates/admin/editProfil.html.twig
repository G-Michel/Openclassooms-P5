{% extends "base.html.twig" %}

{% block title%}NAO - Editer mon profil{% endblock %}

{% block stylesheets %}{% endblock %}

{% block mainLeft %}

<div class='row no-gutters'>
    <div class="d-flex justify-content-around align-items-md-center flex-wrap">
    <div class=" col-lg-4 col-xl-4 h-50">
        <div class="row no-gutters"> 
            <h2 class="text-white display-4">Mon profil</h2>
            <p class="text-primary lead">Editez vos informations personnelles</p> 
            <div class="col-sm-12">
               
            </div>  
        </div>        
    </div>
    
    <div class=' col-lg-8 col-xl-8  mt-5 text-muted'>
    	<h2 class="text-warning d-block">Vos informations</h2><br/>
    	<table class="table border infoTable table-striped table-light mt-3">
	    	<tr>
	    		<td><h3>Photo de profil</h3></td>
	    		<td >
	    		<div class="invisible form_picture_class">
	    			{{ form_start(form) }}
					{{ form_widget(form.file) }}
					{{ form_widget(form.alt,{ 'value': 'profil', 'attr': {'class': 'invisible'} }) }}
					{{ form_errors(form.file) }}
				</div>
				</td>
	    		<td class=""><img height="100px"src="{{ app.user.getPicture().getUrl()}}"></td>
	    		<td class="text-primary form_picture_button">éditer</td>
	    	</tr>
	    	<tr>
	    		<td><h3>Adresse mail</h3></td>
	    		<td>
	    		<div class="invisible form_email_class">
					{{ form_widget(form.mail) }}
					{{ form_errors(form.mail) }}

				</div>
				</td>
	    		<td>{{app.user.getMail()}}</td>
	    		<td class="text-primary form_email_button">éditer</td>
	    	</tr>
	    	<tr>
	    		<td><h3>Mot de passe</h3></td>
	    		<td>
	    		<div class="invisible form_password_class">
					{{ form_errors(form.resetPassword) }}
					{{ form_widget(form.resetPassword.plainPassword.first,{ 'attr': {'placeholder': 'Entrez votre mot de passe'} }) }}<br/>
					{{ form_widget(form.resetPassword.plainPassword.second,{ 'attr': {'placeholder': 'Repetez votre mot de passe'} }) }}
				
				</div>
	    		</td>
	    		<td></td>
	    		<td class="text-primary form_password_button">éditer</td>
	    	</tr>
	    	<tr>
	    		<td><h3>Nom</h3></td>
	    		<td>
	    		<div class="invisible d-none form_name_class">
					{{ form_errors(form.name) }}
					{{ form_widget(form.name) }}
				</div>
	    		</td>
	    		<td>{{app.user.getName()}}</td>
	    		<td class="text-primary form_name_button">éditer</td>
	    	</tr>
	    	<tr>
	    		<td><h3>prenom</h3></td>
	    		<td>
	    		<div class="invisible d-none form_surname_class">
					{{ form_errors(form.surname) }}
					{{ form_widget(form.surname)}}
					
				</div>
	    		</td>
	    		<td>{{app.user.getSurname()}}</td>
	    		<td class="text-primary form_surname_button">éditer</td>
	    	</tr>
    	</table>
		<button type="submit" class="btn btn-warning">Editer</button>
				{{ form_rest(form)}}
  				{{ form_end(form) }}
       
    </div>
    </div>

</div>
{% block java_per_pages %}	
 		var form = document.querySelector(".form_surname_button");
	form.addEventListener("click",function(e){
		document.querySelector(".form_surname_class").removeAttribute('class');
});

var form = document.getElementsByClassName("form_name_button");
	form[0].addEventListener("click",function(e){
		document.querySelector(".form_name_class").removeAttribute('class');
});

var form = document.querySelector(".form_email_button");
	form.addEventListener("click",function(e){
		document.querySelector(".form_email_class").removeAttribute('class');
});

var form = document.querySelector(".form_password_button");
	form.addEventListener("click",function(e){
		document.querySelector(".form_password_class").removeAttribute('class');
});

var form = document.querySelector(".form_picture_button");
	form.addEventListener("click",function(e){
		document.querySelector(".form_picture_class").removeAttribute('class');
});
{% endblock %}
{% endblock %}